{"/home/usuario/ull-esit-inf-dsi-20-21-prct09-async-fs-process-alu0100890174/src/ejercicio-2/FileAnalize.ts":{"path":"/home/usuario/ull-esit-inf-dsi-20-21-prct09-async-fs-process-alu0100890174/src/ejercicio-2/FileAnalize.ts","statementMap":{"0":{"start":{"line":3,"column":22},"end":{"line":9,"column":3}},"1":{"start":{"line":4,"column":4},"end":{"line":4,"column":33}},"2":{"start":{"line":4,"column":26},"end":{"line":4,"column":33}},"3":{"start":{"line":5,"column":4},"end":{"line":5,"column":89}},"4":{"start":{"line":5,"column":71},"end":{"line":5,"column":83}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":33}},"6":{"start":{"line":7,"column":26},"end":{"line":7,"column":33}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":17}},"8":{"start":{"line":10,"column":25},"end":{"line":14,"column":2}},"9":{"start":{"line":11,"column":4},"end":{"line":11,"column":72}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":21}},"11":{"start":{"line":15,"column":19},"end":{"line":21,"column":1}},"12":{"start":{"line":16,"column":4},"end":{"line":16,"column":42}},"13":{"start":{"line":16,"column":31},"end":{"line":16,"column":42}},"14":{"start":{"line":17,"column":17},"end":{"line":17,"column":19}},"15":{"start":{"line":18,"column":4},"end":{"line":18,"column":141}},"16":{"start":{"line":18,"column":21},"end":{"line":18,"column":141}},"17":{"start":{"line":18,"column":40},"end":{"line":18,"column":141}},"18":{"start":{"line":18,"column":109},"end":{"line":18,"column":141}},"19":{"start":{"line":19,"column":4},"end":{"line":19,"column":36}},"20":{"start":{"line":20,"column":4},"end":{"line":20,"column":18}},"21":{"start":{"line":22,"column":0},"end":{"line":22,"column":62}},"22":{"start":{"line":23,"column":0},"end":{"line":23,"column":29}},"23":{"start":{"line":24,"column":11},"end":{"line":24,"column":38}},"24":{"start":{"line":25,"column":24},"end":{"line":25,"column":48}},"25":{"start":{"line":26,"column":14},"end":{"line":26,"column":30}},"26":{"start":{"line":39,"column":8},"end":{"line":39,"column":33}},"27":{"start":{"line":40,"column":8},"end":{"line":40,"column":27}},"28":{"start":{"line":41,"column":8},"end":{"line":41,"column":34}},"29":{"start":{"line":42,"column":8},"end":{"line":42,"column":38}},"30":{"start":{"line":43,"column":8},"end":{"line":47,"column":9}},"31":{"start":{"line":44,"column":12},"end":{"line":46,"column":15}},"32":{"start":{"line":45,"column":16},"end":{"line":45,"column":35}},"33":{"start":{"line":55,"column":8},"end":{"line":61,"column":9}},"34":{"start":{"line":56,"column":12},"end":{"line":56,"column":95}},"35":{"start":{"line":57,"column":12},"end":{"line":57,"column":24}},"36":{"start":{"line":60,"column":12},"end":{"line":60,"column":25}},"37":{"start":{"line":71,"column":8},"end":{"line":98,"column":11}},"38":{"start":{"line":72,"column":12},"end":{"line":97,"column":13}},"39":{"start":{"line":73,"column":16},"end":{"line":73,"column":80}},"40":{"start":{"line":74,"column":16},"end":{"line":74,"column":34}},"41":{"start":{"line":75,"column":16},"end":{"line":75,"column":23}},"42":{"start":{"line":77,"column":17},"end":{"line":97,"column":13}},"43":{"start":{"line":78,"column":25},"end":{"line":78,"column":79}},"44":{"start":{"line":79,"column":27},"end":{"line":79,"column":29}},"45":{"start":{"line":80,"column":16},"end":{"line":82,"column":19}},"46":{"start":{"line":81,"column":20},"end":{"line":81,"column":35}},"47":{"start":{"line":83,"column":16},"end":{"line":96,"column":19}},"48":{"start":{"line":84,"column":36},"end":{"line":84,"column":53}},"49":{"start":{"line":85,"column":20},"end":{"line":95,"column":21}},"50":{"start":{"line":87,"column":28},"end":{"line":87,"column":128}},"51":{"start":{"line":88,"column":28},"end":{"line":88,"column":34}},"52":{"start":{"line":90,"column":28},"end":{"line":90,"column":128}},"53":{"start":{"line":91,"column":28},"end":{"line":91,"column":34}},"54":{"start":{"line":93,"column":28},"end":{"line":93,"column":133}},"55":{"start":{"line":94,"column":28},"end":{"line":94,"column":34}},"56":{"start":{"line":101,"column":8},"end":{"line":101,"column":27}},"57":{"start":{"line":104,"column":8},"end":{"line":104,"column":28}},"58":{"start":{"line":107,"column":0},"end":{"line":107,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":74},"end":{"line":3,"column":75}},"loc":{"start":{"line":3,"column":96},"end":{"line":6,"column":1}},"line":3},"1":{"name":"(anonymous_1)","decl":{"start":{"line":5,"column":58},"end":{"line":5,"column":59}},"loc":{"start":{"line":5,"column":69},"end":{"line":5,"column":85}},"line":5},"2":{"name":"(anonymous_2)","decl":{"start":{"line":6,"column":6},"end":{"line":6,"column":7}},"loc":{"start":{"line":6,"column":28},"end":{"line":9,"column":1}},"line":6},"3":{"name":"(anonymous_3)","decl":{"start":{"line":10,"column":80},"end":{"line":10,"column":81}},"loc":{"start":{"line":10,"column":95},"end":{"line":12,"column":1}},"line":10},"4":{"name":"(anonymous_4)","decl":{"start":{"line":12,"column":5},"end":{"line":12,"column":6}},"loc":{"start":{"line":12,"column":20},"end":{"line":14,"column":1}},"line":12},"5":{"name":"(anonymous_5)","decl":{"start":{"line":15,"column":50},"end":{"line":15,"column":51}},"loc":{"start":{"line":15,"column":65},"end":{"line":21,"column":1}},"line":15},"6":{"name":"(anonymous_6)","decl":{"start":{"line":38,"column":4},"end":{"line":38,"column":5}},"loc":{"start":{"line":38,"column":39},"end":{"line":48,"column":5}},"line":38},"7":{"name":"(anonymous_7)","decl":{"start":{"line":44,"column":29},"end":{"line":44,"column":30}},"loc":{"start":{"line":44,"column":38},"end":{"line":46,"column":13}},"line":44},"8":{"name":"(anonymous_8)","decl":{"start":{"line":54,"column":4},"end":{"line":54,"column":5}},"loc":{"start":{"line":54,"column":16},"end":{"line":62,"column":5}},"line":54},"9":{"name":"(anonymous_9)","decl":{"start":{"line":70,"column":4},"end":{"line":70,"column":5}},"loc":{"start":{"line":70,"column":23},"end":{"line":99,"column":5}},"line":70},"10":{"name":"(anonymous_10)","decl":{"start":{"line":71,"column":52},"end":{"line":71,"column":53}},"loc":{"start":{"line":71,"column":61},"end":{"line":98,"column":9}},"line":71},"11":{"name":"(anonymous_11)","decl":{"start":{"line":80,"column":37},"end":{"line":80,"column":38}},"loc":{"start":{"line":80,"column":49},"end":{"line":82,"column":17}},"line":80},"12":{"name":"(anonymous_12)","decl":{"start":{"line":83,"column":31},"end":{"line":83,"column":32}},"loc":{"start":{"line":83,"column":37},"end":{"line":96,"column":17}},"line":83},"13":{"name":"(anonymous_13)","decl":{"start":{"line":100,"column":4},"end":{"line":100,"column":5}},"loc":{"start":{"line":100,"column":16},"end":{"line":102,"column":5}},"line":100},"14":{"name":"(anonymous_14)","decl":{"start":{"line":103,"column":4},"end":{"line":103,"column":5}},"loc":{"start":{"line":103,"column":21},"end":{"line":105,"column":5}},"line":103}},"branchMap":{"0":{"loc":{"start":{"line":3,"column":22},"end":{"line":9,"column":3}},"type":"binary-expr","locations":[{"start":{"line":3,"column":23},"end":{"line":3,"column":27}},{"start":{"line":3,"column":31},"end":{"line":3,"column":51}},{"start":{"line":3,"column":57},"end":{"line":9,"column":2}}],"line":3},"1":{"loc":{"start":{"line":3,"column":57},"end":{"line":9,"column":2}},"type":"cond-expr","locations":[{"start":{"line":3,"column":74},"end":{"line":6,"column":1}},{"start":{"line":6,"column":6},"end":{"line":9,"column":1}}],"line":3},"2":{"loc":{"start":{"line":4,"column":4},"end":{"line":4,"column":33}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":4,"column":33}},{"start":{"line":4,"column":4},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":4},"end":{"line":7,"column":33}},"type":"if","locations":[{"start":{"line":7,"column":4},"end":{"line":7,"column":33}},{"start":{"line":7,"column":4},"end":{"line":7,"column":33}}],"line":7},"4":{"loc":{"start":{"line":10,"column":25},"end":{"line":14,"column":2}},"type":"binary-expr","locations":[{"start":{"line":10,"column":26},"end":{"line":10,"column":30}},{"start":{"line":10,"column":34},"end":{"line":10,"column":57}},{"start":{"line":10,"column":63},"end":{"line":14,"column":1}}],"line":10},"5":{"loc":{"start":{"line":10,"column":63},"end":{"line":14,"column":1}},"type":"cond-expr","locations":[{"start":{"line":10,"column":80},"end":{"line":12,"column":1}},{"start":{"line":12,"column":5},"end":{"line":14,"column":1}}],"line":10},"6":{"loc":{"start":{"line":15,"column":19},"end":{"line":21,"column":1}},"type":"binary-expr","locations":[{"start":{"line":15,"column":20},"end":{"line":15,"column":24}},{"start":{"line":15,"column":28},"end":{"line":15,"column":45}},{"start":{"line":15,"column":50},"end":{"line":21,"column":1}}],"line":15},"7":{"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":42}},"type":"if","locations":[{"start":{"line":16,"column":4},"end":{"line":16,"column":42}},{"start":{"line":16,"column":4},"end":{"line":16,"column":42}}],"line":16},"8":{"loc":{"start":{"line":16,"column":8},"end":{"line":16,"column":29}},"type":"binary-expr","locations":[{"start":{"line":16,"column":8},"end":{"line":16,"column":11}},{"start":{"line":16,"column":15},"end":{"line":16,"column":29}}],"line":16},"9":{"loc":{"start":{"line":18,"column":4},"end":{"line":18,"column":141}},"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":18,"column":141}},{"start":{"line":18,"column":4},"end":{"line":18,"column":141}}],"line":18},"10":{"loc":{"start":{"line":18,"column":40},"end":{"line":18,"column":141}},"type":"if","locations":[{"start":{"line":18,"column":40},"end":{"line":18,"column":141}},{"start":{"line":18,"column":40},"end":{"line":18,"column":141}}],"line":18},"11":{"loc":{"start":{"line":18,"column":44},"end":{"line":18,"column":107}},"type":"binary-expr","locations":[{"start":{"line":18,"column":44},"end":{"line":18,"column":59}},{"start":{"line":18,"column":63},"end":{"line":18,"column":107}}],"line":18},"12":{"loc":{"start":{"line":43,"column":8},"end":{"line":47,"column":9}},"type":"if","locations":[{"start":{"line":43,"column":8},"end":{"line":47,"column":9}},{"start":{"line":43,"column":8},"end":{"line":47,"column":9}}],"line":43},"13":{"loc":{"start":{"line":55,"column":8},"end":{"line":61,"column":9}},"type":"if","locations":[{"start":{"line":55,"column":8},"end":{"line":61,"column":9}},{"start":{"line":55,"column":8},"end":{"line":61,"column":9}}],"line":55},"14":{"loc":{"start":{"line":55,"column":12},"end":{"line":55,"column":70}},"type":"binary-expr","locations":[{"start":{"line":55,"column":13},"end":{"line":55,"column":38}},{"start":{"line":55,"column":44},"end":{"line":55,"column":69}}],"line":55},"15":{"loc":{"start":{"line":72,"column":12},"end":{"line":97,"column":13}},"type":"if","locations":[{"start":{"line":72,"column":12},"end":{"line":97,"column":13}},{"start":{"line":72,"column":12},"end":{"line":97,"column":13}}],"line":72},"16":{"loc":{"start":{"line":72,"column":16},"end":{"line":72,"column":38}},"type":"binary-expr","locations":[{"start":{"line":72,"column":17},"end":{"line":72,"column":20}},{"start":{"line":72,"column":26},"end":{"line":72,"column":37}}],"line":72},"17":{"loc":{"start":{"line":77,"column":17},"end":{"line":97,"column":13}},"type":"if","locations":[{"start":{"line":77,"column":17},"end":{"line":97,"column":13}},{"start":{"line":77,"column":17},"end":{"line":97,"column":13}}],"line":77},"18":{"loc":{"start":{"line":85,"column":20},"end":{"line":95,"column":21}},"type":"switch","locations":[{"start":{"line":86,"column":24},"end":{"line":88,"column":34}},{"start":{"line":89,"column":24},"end":{"line":91,"column":34}},{"start":{"line":92,"column":24},"end":{"line":94,"column":34}}],"line":85},"19":{"loc":{"start":{"line":86,"column":30},"end":{"line":86,"column":47}},"type":"binary-expr","locations":[{"start":{"line":86,"column":30},"end":{"line":86,"column":34}},{"start":{"line":86,"column":38},"end":{"line":86,"column":47}}],"line":86},"20":{"loc":{"start":{"line":89,"column":30},"end":{"line":89,"column":47}},"type":"binary-expr","locations":[{"start":{"line":89,"column":30},"end":{"line":89,"column":34}},{"start":{"line":89,"column":38},"end":{"line":89,"column":47}}],"line":89},"21":{"loc":{"start":{"line":92,"column":30},"end":{"line":92,"column":47}},"type":"binary-expr","locations":[{"start":{"line":92,"column":30},"end":{"line":92,"column":34}},{"start":{"line":92,"column":38},"end":{"line":92,"column":47}}],"line":92}},"s":{"0":1,"1":99,"2":99,"3":99,"4":18,"5":0,"6":0,"7":0,"8":1,"9":1,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":1,"17":99,"18":99,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":4,"27":4,"28":4,"29":4,"30":4,"31":3,"32":9,"33":4,"34":1,"35":1,"36":3,"37":9,"38":9,"39":1,"40":1,"41":1,"42":8,"43":6,"44":6,"45":6,"46":6,"47":6,"48":6,"49":6,"50":2,"51":2,"52":2,"53":2,"54":2,"55":2,"56":17,"57":5,"58":1},"f":{"0":99,"1":18,"2":0,"3":1,"4":0,"5":1,"6":4,"7":9,"8":4,"9":9,"10":9,"11":6,"12":6,"13":17,"14":5},"b":{"0":[1,1,1],"1":[1,0],"2":[99,0],"3":[0,0],"4":[1,1,1],"5":[1,0],"6":[1,1,1],"7":[0,1],"8":[1,1],"9":[1,0],"10":[99,0],"11":[99,99],"12":[3,1],"13":[1,3],"14":[4,3],"15":[1,8],"16":[9,3],"17":[6,2],"18":[2,2,2],"19":[6,0],"20":[4,0],"21":[2,0]},"inputSourceMap":{"version":3,"file":"/home/usuario/ull-esit-inf-dsi-20-21-prct09-async-fs-process-alu0100890174/src/ejercicio-2/FileAnalize.ts","sources":["/home/usuario/ull-esit-inf-dsi-20-21-prct09-async-fs-process-alu0100890174/src/ejercicio-2/FileAnalize.ts"],"names":[],"mappings":"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","sourcesContent":["#!/usr/bin/env node\nimport * as fs from 'fs';\nimport {spawn} from 'child_process';\nconst chalk = require('chalk');\n\n/**\n * Class FileAnalize . Su función es analizar un archivo a través del comando \"wc\".\n * \n * @param filename      Ruta y nombre del archivo a analizar.\n * @param error         Si el programa falla, se pone en \"True\".\n * @param arguments[]   Contiene los parámetros para el comando \"wc\":\n *     - \"--line\" => Numero de líneas\n *     - \"--words\" => Número de palabras\n *     - \"--chars\" => Número de caracteres\n */\nexport class FileAnalize {\n    private arguments: string[];\n    private _error: boolean = true;\n\n    constructor (\n        private filename: string,\n        ...argument: string[]\n    ) {\n        this.arguments = argument;\n        this.error = this.fileCheck();\n        if (!this.error) {\n            argument.forEach((arg) => {\n                this.fileInfo(arg);\n            });\n        }\n    }\n\n    /**\n     * fileCheck . Comprueba si la lectura del archivo puede ejecutarse de forma correcta:\n     *      - Comprueba si se puede acceder a él.\n     *      - Comprueba si el número de facilitados es correcto.\n     */\n    fileCheck ( ): boolean {\n        if ((this.arguments.length < 1) || (this.arguments.length > 3)) {\n            console.log(chalk.red('At least, a file analyze and a command must be specified'));\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    /**\n     * fileInfo . Se encarga de tratar la información del archivo, recibe el nombre y el flag para \"wc\"\n     * y a través de su proceso child-process envia su salida a una variable que pasará a mostrarse por pantalla\n     * en el momento que se termine el proceso.\n     * \n     * @param argument Flag que utilizará \"wc\" para tratar la información recibida del archivo.\n     */\n    fileInfo ( argument: string ) {\n        fs.access(this.filename, fs.constants.F_OK, (err) => {\n            if ((err) && (!this.error)){\n                console.log(chalk.red(`File ${this.filename} does not exist.`));\n                this.error = true;\n                return;\n            } else if (!this.error){\n                let wc = spawn('wc', [argument, this.filename]);\n                let info = '';\n                wc.stdout.on('data', (output) => {\n                    info += output;\n                });\n                wc.on('close', () => {\n                    let infoArray = info.split(/\\s+/);\n                    switch (argument) {\n                        case ('-l' || '--lines'):\n                            console.log(`File ` + chalk.green(this.filename) + ` has ` + chalk.green(infoArray[0]) +` lines.`);\n                            break;\n                        case ('-w' || '--words'):\n                            console.log(`File ` + chalk.green(this.filename) + ` has ` + chalk.green(infoArray[0]) +` words.`);\n                            break;\n                        case ('-m' || '--chars'):\n                            console.log(`File ` + chalk.green(this.filename) + ` has ` + chalk.green(infoArray[0]) +` characters.`);\n                            break;\n                    }\n                });\n            }\n        });\n    }\n\n    public get error(): boolean {\n        return this._error;\n    }\n    public set error(value: boolean) {\n        this._error = value;\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2bbca51bbbf1e225c9534c7b1fcc2631f31befd6","contentHash":"ee9a5b38d52e55ccf184da34df6e4f9a413ae2eebabdf88b94d0d30e023af0ec"},"/home/usuario/ull-esit-inf-dsi-20-21-prct09-async-fs-process-alu0100890174/src/ejercicio-2/FileAnalizePipe.ts":{"path":"/home/usuario/ull-esit-inf-dsi-20-21-prct09-async-fs-process-alu0100890174/src/ejercicio-2/FileAnalizePipe.ts","statementMap":{"0":{"start":{"line":3,"column":22},"end":{"line":9,"column":3}},"1":{"start":{"line":4,"column":4},"end":{"line":4,"column":33}},"2":{"start":{"line":4,"column":26},"end":{"line":4,"column":33}},"3":{"start":{"line":5,"column":4},"end":{"line":5,"column":89}},"4":{"start":{"line":5,"column":71},"end":{"line":5,"column":83}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":33}},"6":{"start":{"line":7,"column":26},"end":{"line":7,"column":33}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":17}},"8":{"start":{"line":10,"column":25},"end":{"line":14,"column":2}},"9":{"start":{"line":11,"column":4},"end":{"line":11,"column":72}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":21}},"11":{"start":{"line":15,"column":19},"end":{"line":21,"column":1}},"12":{"start":{"line":16,"column":4},"end":{"line":16,"column":42}},"13":{"start":{"line":16,"column":31},"end":{"line":16,"column":42}},"14":{"start":{"line":17,"column":17},"end":{"line":17,"column":19}},"15":{"start":{"line":18,"column":4},"end":{"line":18,"column":141}},"16":{"start":{"line":18,"column":21},"end":{"line":18,"column":141}},"17":{"start":{"line":18,"column":40},"end":{"line":18,"column":141}},"18":{"start":{"line":18,"column":109},"end":{"line":18,"column":141}},"19":{"start":{"line":19,"column":4},"end":{"line":19,"column":36}},"20":{"start":{"line":20,"column":4},"end":{"line":20,"column":18}},"21":{"start":{"line":22,"column":0},"end":{"line":22,"column":62}},"22":{"start":{"line":23,"column":0},"end":{"line":23,"column":33}},"23":{"start":{"line":24,"column":11},"end":{"line":24,"column":38}},"24":{"start":{"line":25,"column":24},"end":{"line":25,"column":48}},"25":{"start":{"line":26,"column":14},"end":{"line":26,"column":30}},"26":{"start":{"line":39,"column":8},"end":{"line":39,"column":33}},"27":{"start":{"line":40,"column":8},"end":{"line":40,"column":27}},"28":{"start":{"line":41,"column":8},"end":{"line":41,"column":34}},"29":{"start":{"line":42,"column":8},"end":{"line":42,"column":38}},"30":{"start":{"line":43,"column":8},"end":{"line":47,"column":9}},"31":{"start":{"line":44,"column":12},"end":{"line":46,"column":15}},"32":{"start":{"line":45,"column":16},"end":{"line":45,"column":35}},"33":{"start":{"line":55,"column":8},"end":{"line":61,"column":9}},"34":{"start":{"line":56,"column":12},"end":{"line":56,"column":95}},"35":{"start":{"line":57,"column":12},"end":{"line":57,"column":24}},"36":{"start":{"line":60,"column":12},"end":{"line":60,"column":25}},"37":{"start":{"line":71,"column":8},"end":{"line":100,"column":11}},"38":{"start":{"line":72,"column":12},"end":{"line":99,"column":13}},"39":{"start":{"line":73,"column":16},"end":{"line":73,"column":80}},"40":{"start":{"line":74,"column":16},"end":{"line":74,"column":34}},"41":{"start":{"line":75,"column":16},"end":{"line":75,"column":23}},"42":{"start":{"line":77,"column":17},"end":{"line":99,"column":13}},"43":{"start":{"line":78,"column":26},"end":{"line":78,"column":71}},"44":{"start":{"line":79,"column":25},"end":{"line":79,"column":64}},"45":{"start":{"line":80,"column":16},"end":{"line":80,"column":42}},"46":{"start":{"line":81,"column":27},"end":{"line":81,"column":29}},"47":{"start":{"line":82,"column":16},"end":{"line":84,"column":19}},"48":{"start":{"line":83,"column":20},"end":{"line":83,"column":35}},"49":{"start":{"line":85,"column":16},"end":{"line":98,"column":19}},"50":{"start":{"line":86,"column":36},"end":{"line":86,"column":53}},"51":{"start":{"line":87,"column":20},"end":{"line":97,"column":21}},"52":{"start":{"line":89,"column":28},"end":{"line":89,"column":128}},"53":{"start":{"line":90,"column":28},"end":{"line":90,"column":34}},"54":{"start":{"line":92,"column":28},"end":{"line":92,"column":128}},"55":{"start":{"line":93,"column":28},"end":{"line":93,"column":34}},"56":{"start":{"line":95,"column":28},"end":{"line":95,"column":133}},"57":{"start":{"line":96,"column":28},"end":{"line":96,"column":34}},"58":{"start":{"line":103,"column":8},"end":{"line":103,"column":27}},"59":{"start":{"line":106,"column":8},"end":{"line":106,"column":28}},"60":{"start":{"line":109,"column":0},"end":{"line":109,"column":42}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":74},"end":{"line":3,"column":75}},"loc":{"start":{"line":3,"column":96},"end":{"line":6,"column":1}},"line":3},"1":{"name":"(anonymous_1)","decl":{"start":{"line":5,"column":58},"end":{"line":5,"column":59}},"loc":{"start":{"line":5,"column":69},"end":{"line":5,"column":85}},"line":5},"2":{"name":"(anonymous_2)","decl":{"start":{"line":6,"column":6},"end":{"line":6,"column":7}},"loc":{"start":{"line":6,"column":28},"end":{"line":9,"column":1}},"line":6},"3":{"name":"(anonymous_3)","decl":{"start":{"line":10,"column":80},"end":{"line":10,"column":81}},"loc":{"start":{"line":10,"column":95},"end":{"line":12,"column":1}},"line":10},"4":{"name":"(anonymous_4)","decl":{"start":{"line":12,"column":5},"end":{"line":12,"column":6}},"loc":{"start":{"line":12,"column":20},"end":{"line":14,"column":1}},"line":12},"5":{"name":"(anonymous_5)","decl":{"start":{"line":15,"column":50},"end":{"line":15,"column":51}},"loc":{"start":{"line":15,"column":65},"end":{"line":21,"column":1}},"line":15},"6":{"name":"(anonymous_6)","decl":{"start":{"line":38,"column":4},"end":{"line":38,"column":5}},"loc":{"start":{"line":38,"column":39},"end":{"line":48,"column":5}},"line":38},"7":{"name":"(anonymous_7)","decl":{"start":{"line":44,"column":29},"end":{"line":44,"column":30}},"loc":{"start":{"line":44,"column":38},"end":{"line":46,"column":13}},"line":44},"8":{"name":"(anonymous_8)","decl":{"start":{"line":54,"column":4},"end":{"line":54,"column":5}},"loc":{"start":{"line":54,"column":16},"end":{"line":62,"column":5}},"line":54},"9":{"name":"(anonymous_9)","decl":{"start":{"line":70,"column":4},"end":{"line":70,"column":5}},"loc":{"start":{"line":70,"column":23},"end":{"line":101,"column":5}},"line":70},"10":{"name":"(anonymous_10)","decl":{"start":{"line":71,"column":52},"end":{"line":71,"column":53}},"loc":{"start":{"line":71,"column":61},"end":{"line":100,"column":9}},"line":71},"11":{"name":"(anonymous_11)","decl":{"start":{"line":82,"column":37},"end":{"line":82,"column":38}},"loc":{"start":{"line":82,"column":49},"end":{"line":84,"column":17}},"line":82},"12":{"name":"(anonymous_12)","decl":{"start":{"line":85,"column":31},"end":{"line":85,"column":32}},"loc":{"start":{"line":85,"column":37},"end":{"line":98,"column":17}},"line":85},"13":{"name":"(anonymous_13)","decl":{"start":{"line":102,"column":4},"end":{"line":102,"column":5}},"loc":{"start":{"line":102,"column":16},"end":{"line":104,"column":5}},"line":102},"14":{"name":"(anonymous_14)","decl":{"start":{"line":105,"column":4},"end":{"line":105,"column":5}},"loc":{"start":{"line":105,"column":21},"end":{"line":107,"column":5}},"line":105}},"branchMap":{"0":{"loc":{"start":{"line":3,"column":22},"end":{"line":9,"column":3}},"type":"binary-expr","locations":[{"start":{"line":3,"column":23},"end":{"line":3,"column":27}},{"start":{"line":3,"column":31},"end":{"line":3,"column":51}},{"start":{"line":3,"column":57},"end":{"line":9,"column":2}}],"line":3},"1":{"loc":{"start":{"line":3,"column":57},"end":{"line":9,"column":2}},"type":"cond-expr","locations":[{"start":{"line":3,"column":74},"end":{"line":6,"column":1}},{"start":{"line":6,"column":6},"end":{"line":9,"column":1}}],"line":3},"2":{"loc":{"start":{"line":4,"column":4},"end":{"line":4,"column":33}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":4,"column":33}},{"start":{"line":4,"column":4},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":4},"end":{"line":7,"column":33}},"type":"if","locations":[{"start":{"line":7,"column":4},"end":{"line":7,"column":33}},{"start":{"line":7,"column":4},"end":{"line":7,"column":33}}],"line":7},"4":{"loc":{"start":{"line":10,"column":25},"end":{"line":14,"column":2}},"type":"binary-expr","locations":[{"start":{"line":10,"column":26},"end":{"line":10,"column":30}},{"start":{"line":10,"column":34},"end":{"line":10,"column":57}},{"start":{"line":10,"column":63},"end":{"line":14,"column":1}}],"line":10},"5":{"loc":{"start":{"line":10,"column":63},"end":{"line":14,"column":1}},"type":"cond-expr","locations":[{"start":{"line":10,"column":80},"end":{"line":12,"column":1}},{"start":{"line":12,"column":5},"end":{"line":14,"column":1}}],"line":10},"6":{"loc":{"start":{"line":15,"column":19},"end":{"line":21,"column":1}},"type":"binary-expr","locations":[{"start":{"line":15,"column":20},"end":{"line":15,"column":24}},{"start":{"line":15,"column":28},"end":{"line":15,"column":45}},{"start":{"line":15,"column":50},"end":{"line":21,"column":1}}],"line":15},"7":{"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":42}},"type":"if","locations":[{"start":{"line":16,"column":4},"end":{"line":16,"column":42}},{"start":{"line":16,"column":4},"end":{"line":16,"column":42}}],"line":16},"8":{"loc":{"start":{"line":16,"column":8},"end":{"line":16,"column":29}},"type":"binary-expr","locations":[{"start":{"line":16,"column":8},"end":{"line":16,"column":11}},{"start":{"line":16,"column":15},"end":{"line":16,"column":29}}],"line":16},"9":{"loc":{"start":{"line":18,"column":4},"end":{"line":18,"column":141}},"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":18,"column":141}},{"start":{"line":18,"column":4},"end":{"line":18,"column":141}}],"line":18},"10":{"loc":{"start":{"line":18,"column":40},"end":{"line":18,"column":141}},"type":"if","locations":[{"start":{"line":18,"column":40},"end":{"line":18,"column":141}},{"start":{"line":18,"column":40},"end":{"line":18,"column":141}}],"line":18},"11":{"loc":{"start":{"line":18,"column":44},"end":{"line":18,"column":107}},"type":"binary-expr","locations":[{"start":{"line":18,"column":44},"end":{"line":18,"column":59}},{"start":{"line":18,"column":63},"end":{"line":18,"column":107}}],"line":18},"12":{"loc":{"start":{"line":43,"column":8},"end":{"line":47,"column":9}},"type":"if","locations":[{"start":{"line":43,"column":8},"end":{"line":47,"column":9}},{"start":{"line":43,"column":8},"end":{"line":47,"column":9}}],"line":43},"13":{"loc":{"start":{"line":55,"column":8},"end":{"line":61,"column":9}},"type":"if","locations":[{"start":{"line":55,"column":8},"end":{"line":61,"column":9}},{"start":{"line":55,"column":8},"end":{"line":61,"column":9}}],"line":55},"14":{"loc":{"start":{"line":55,"column":12},"end":{"line":55,"column":70}},"type":"binary-expr","locations":[{"start":{"line":55,"column":13},"end":{"line":55,"column":38}},{"start":{"line":55,"column":44},"end":{"line":55,"column":69}}],"line":55},"15":{"loc":{"start":{"line":72,"column":12},"end":{"line":99,"column":13}},"type":"if","locations":[{"start":{"line":72,"column":12},"end":{"line":99,"column":13}},{"start":{"line":72,"column":12},"end":{"line":99,"column":13}}],"line":72},"16":{"loc":{"start":{"line":72,"column":16},"end":{"line":72,"column":38}},"type":"binary-expr","locations":[{"start":{"line":72,"column":17},"end":{"line":72,"column":20}},{"start":{"line":72,"column":26},"end":{"line":72,"column":37}}],"line":72},"17":{"loc":{"start":{"line":77,"column":17},"end":{"line":99,"column":13}},"type":"if","locations":[{"start":{"line":77,"column":17},"end":{"line":99,"column":13}},{"start":{"line":77,"column":17},"end":{"line":99,"column":13}}],"line":77},"18":{"loc":{"start":{"line":87,"column":20},"end":{"line":97,"column":21}},"type":"switch","locations":[{"start":{"line":88,"column":24},"end":{"line":90,"column":34}},{"start":{"line":91,"column":24},"end":{"line":93,"column":34}},{"start":{"line":94,"column":24},"end":{"line":96,"column":34}}],"line":87},"19":{"loc":{"start":{"line":88,"column":30},"end":{"line":88,"column":47}},"type":"binary-expr","locations":[{"start":{"line":88,"column":30},"end":{"line":88,"column":34}},{"start":{"line":88,"column":38},"end":{"line":88,"column":47}}],"line":88},"20":{"loc":{"start":{"line":91,"column":30},"end":{"line":91,"column":47}},"type":"binary-expr","locations":[{"start":{"line":91,"column":30},"end":{"line":91,"column":34}},{"start":{"line":91,"column":38},"end":{"line":91,"column":47}}],"line":91},"21":{"loc":{"start":{"line":94,"column":30},"end":{"line":94,"column":47}},"type":"binary-expr","locations":[{"start":{"line":94,"column":30},"end":{"line":94,"column":34}},{"start":{"line":94,"column":38},"end":{"line":94,"column":47}}],"line":94}},"s":{"0":1,"1":99,"2":99,"3":99,"4":18,"5":0,"6":0,"7":0,"8":1,"9":1,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":1,"17":99,"18":99,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":4,"27":4,"28":4,"29":4,"30":4,"31":3,"32":9,"33":4,"34":1,"35":1,"36":3,"37":9,"38":9,"39":1,"40":1,"41":1,"42":8,"43":6,"44":6,"45":6,"46":6,"47":6,"48":6,"49":6,"50":6,"51":6,"52":2,"53":2,"54":2,"55":2,"56":2,"57":2,"58":17,"59":5,"60":1},"f":{"0":99,"1":18,"2":0,"3":1,"4":0,"5":1,"6":4,"7":9,"8":4,"9":9,"10":9,"11":6,"12":6,"13":17,"14":5},"b":{"0":[1,1,1],"1":[1,0],"2":[99,0],"3":[0,0],"4":[1,1,1],"5":[1,0],"6":[1,1,1],"7":[0,1],"8":[1,1],"9":[1,0],"10":[99,0],"11":[99,99],"12":[3,1],"13":[1,3],"14":[4,3],"15":[1,8],"16":[9,3],"17":[6,2],"18":[2,2,2],"19":[6,0],"20":[4,0],"21":[2,0]},"inputSourceMap":{"version":3,"file":"/home/usuario/ull-esit-inf-dsi-20-21-prct09-async-fs-process-alu0100890174/src/ejercicio-2/FileAnalizePipe.ts","sources":["/home/usuario/ull-esit-inf-dsi-20-21-prct09-async-fs-process-alu0100890174/src/ejercicio-2/FileAnalizePipe.ts"],"names":[],"mappings":"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","sourcesContent":["#!/usr/bin/env node\nimport * as fs from 'fs';\nimport {spawn} from 'child_process';\nconst chalk = require('chalk');\n\n/**\n * Class FileAnalizePipe . Su función es analizar un archivo a través del comando \"wc\".\n * \n * @param filename      Ruta y nombre del archivo a analizar.\n * @param error         Si el programa falla, se pone en \"True\".\n * @param arguments[]   Contiene los parámetros para el comando \"wc\":\n *     - \"--line\" => Numero de líneas\n *     - \"--words\" => Número de palabras\n *     - \"--chars\" => Número de caracteres\n */\nexport class FileAnalizePipe {\n    private arguments: string[];\n    private _error: boolean = true;\n    constructor (\n        private filename: string,\n        ...argument: string[]\n    ) {\n        this.arguments = argument;\n        this.error = this.fileCheck();\n        if (!this.error) {\n            argument.forEach((arg) => {\n                this.fileInfo(arg);\n            });\n        }\n    }\n\n    /**\n     * fileCheck . Comprueba si la lectura del archivo puede ejecutarse de forma correcta:\n     *      - Comprueba si se puede acceder a él.\n     *      - Comprueba si el número de facilitados es correcto.\n     */\n    fileCheck ( ): boolean {\n        if ((this.arguments.length < 1) || (this.arguments.length > 3)) {\n            console.log(chalk.red('At least, a file analyze and a command must be specified'));\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    /**\n     * fileInfo . Se encarga de tratar la información recibida por el comando \"cat\" que ha trabajado como intermediario para\n     * volcar la información de un archivo sobre el comando \"wc\" a través de su subproceso pipe heredado de \"child-proccess\".\n     * su salida para a una variable que pasará a mostrarse por pantalla en el momento que se termine el proceso.\n     * \n     * @param argument Flag que utilizará \"wc\" para tratar la información recibida por cat del archivo.\n     */\n    fileInfo ( argument: string ): void {\n        fs.access(this.filename, fs.constants.F_OK, (err) => {\n            if ((err) && (!this.error)){\n                console.log(chalk.red(`File ${this.filename} does not exist.`));\n                this.error = true;\n                return;\n            } else if (!this.error){\n                let cat = spawn('cat', [this.filename]);\n                let wc = spawn('wc', [argument]);\n                cat.stdout.pipe(wc.stdin);\n                let info = '';\n                wc.stdout.on('data', (output) => {\n                    info += output;\n                });\n                wc.on('close', () => {\n                    let infoArray = info.split(/\\s+/);\n                    switch (argument) {\n                        case ('-l' || '--lines'):\n                            console.log(`File ` + chalk.green(this.filename) + ` has ` + chalk.green(infoArray[0]) +` lines.`);\n                            break;\n                        case ('-w' || '--words'):\n                            console.log(`File ` + chalk.green(this.filename) + ` has ` + chalk.green(infoArray[0]) +` words.`);\n                            break;\n                        case ('-m' || '--chars'):\n                            console.log(`File ` + chalk.green(this.filename) + ` has ` + chalk.green(infoArray[0]) +` characters.`);\n                            break;\n                    }\n                });\n            }\n        });       \n    }\n\n    public get error(): boolean {\n        return this._error;\n    }\n    public set error(value: boolean) {\n        this._error = value;\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fc2fbe2c6be370dd0ad861ccf6c405c1f97d2775","contentHash":"84409593c361f8ea5a1d10b8b34c6bcfb0ccfbc8b03732a522c205a43380fa39"},"/home/usuario/ull-esit-inf-dsi-20-21-prct09-async-fs-process-alu0100890174/src/ejercicio-3/watcher.ts":{"path":"/home/usuario/ull-esit-inf-dsi-20-21-prct09-async-fs-process-alu0100890174/src/ejercicio-3/watcher.ts","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":3,"column":62}},"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":25}},"2":{"start":{"line":5,"column":11},"end":{"line":5,"column":24}},"3":{"start":{"line":6,"column":14},"end":{"line":6,"column":30}},"4":{"start":{"line":9,"column":8},"end":{"line":9,"column":25}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":25}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":25}},"7":{"start":{"line":14,"column":20},"end":{"line":14,"column":55}},"8":{"start":{"line":15,"column":8},"end":{"line":41,"column":9}},"9":{"start":{"line":16,"column":12},"end":{"line":16,"column":80}},"10":{"start":{"line":17,"column":12},"end":{"line":17,"column":22}},"11":{"start":{"line":20,"column":12},"end":{"line":20,"column":74}},"12":{"start":{"line":21,"column":28},"end":{"line":21,"column":65}},"13":{"start":{"line":22,"column":24},"end":{"line":22,"column":29}},"14":{"start":{"line":23,"column":12},"end":{"line":39,"column":15}},"15":{"start":{"line":24,"column":16},"end":{"line":37,"column":17}},"16":{"start":{"line":26,"column":24},"end":{"line":26,"column":85}},"17":{"start":{"line":27,"column":24},"end":{"line":32,"column":25}},"18":{"start":{"line":28,"column":28},"end":{"line":28,"column":65}},"19":{"start":{"line":31,"column":28},"end":{"line":31,"column":69}},"20":{"start":{"line":33,"column":24},"end":{"line":33,"column":30}},"21":{"start":{"line":35,"column":24},"end":{"line":35,"column":64}},"22":{"start":{"line":36,"column":24},"end":{"line":36,"column":30}},"23":{"start":{"line":38,"column":16},"end":{"line":38,"column":78}},"24":{"start":{"line":40,"column":12},"end":{"line":40,"column":19}},"25":{"start":{"line":44,"column":8},"end":{"line":50,"column":9}},"26":{"start":{"line":45,"column":12},"end":{"line":45,"column":64}},"27":{"start":{"line":46,"column":12},"end":{"line":46,"column":24}},"28":{"start":{"line":49,"column":12},"end":{"line":49,"column":25}},"29":{"start":{"line":53,"column":0},"end":{"line":53,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":28},"end":{"line":12,"column":5}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":16},"end":{"line":42,"column":5}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":23,"column":33},"end":{"line":23,"column":34}},"loc":{"start":{"line":23,"column":58},"end":{"line":39,"column":13}},"line":23},"3":{"name":"(anonymous_3)","decl":{"start":{"line":43,"column":4},"end":{"line":43,"column":5}},"loc":{"start":{"line":43,"column":25},"end":{"line":51,"column":5}},"line":43}},"branchMap":{"0":{"loc":{"start":{"line":15,"column":8},"end":{"line":41,"column":9}},"type":"if","locations":[{"start":{"line":15,"column":8},"end":{"line":41,"column":9}},{"start":{"line":15,"column":8},"end":{"line":41,"column":9}}],"line":15},"1":{"loc":{"start":{"line":24,"column":16},"end":{"line":37,"column":17}},"type":"switch","locations":[{"start":{"line":25,"column":20},"end":{"line":33,"column":30}},{"start":{"line":34,"column":20},"end":{"line":36,"column":30}}],"line":24},"2":{"loc":{"start":{"line":27,"column":24},"end":{"line":32,"column":25}},"type":"if","locations":[{"start":{"line":27,"column":24},"end":{"line":32,"column":25}},{"start":{"line":27,"column":24},"end":{"line":32,"column":25}}],"line":27}},"s":{"0":1,"1":1,"2":1,"3":1,"4":4,"5":4,"6":4,"7":6,"8":6,"9":4,"10":4,"11":2,"12":2,"13":2,"14":2,"15":10,"16":4,"17":4,"18":2,"19":2,"20":4,"21":6,"22":6,"23":10,"24":2,"25":10,"26":10,"27":4,"28":6,"29":1},"f":{"0":4,"1":6,"2":10,"3":10},"b":{"0":[4,2],"1":[4,6],"2":[2,2]},"inputSourceMap":{"version":3,"file":"/home/usuario/ull-esit-inf-dsi-20-21-prct09-async-fs-process-alu0100890174/src/ejercicio-3/watcher.ts","sources":["/home/usuario/ull-esit-inf-dsi-20-21-prct09-async-fs-process-alu0100890174/src/ejercicio-3/watcher.ts"],"names":[],"mappings":";;;;AACA,MAAM,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;AACzB,MAAM,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;AAG/B,MAAa,OAAO;IAChB,YACY,IAAY,EACZ,IAAY;QADZ,SAAI,GAAJ,IAAI,CAAQ;QACZ,SAAI,GAAJ,IAAI,CAAQ;QAEpB,IAAI,CAAC,SAAS,EAAE,CAAC;IACrB,CAAC;IAED,SAAS;QACL,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAChD,IAAI,KAAK,IAAI,KAAK,EAAE;YAChB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CACjB,2CAA2C,CAAC,CAAC,CAAC;YAC9C,OAAO,CAAC,CAAC,CAAC;SACjB;aAAM;YACH,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,mCAAmC,CAAC,CAAC,CAAC;YAC9D,MAAM,OAAO,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;YACtD,IAAI,KAAK,GAAY,KAAK,CAAC;YAC3B,OAAO,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,SAAS,EAAE,QAAQ,EAAE,EAAE;gBACzC,QAAQ,SAAS,EAAE;oBACf,KAAK,QAAQ;wBACT,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;wBAC7D,IAAI,KAAK,EAAE;4BACP,OAAO,CAAC,GAAG,CAAC,QAAQ,QAAQ,OAAO,CAAC,CAAC;yBACxC;6BAAM;4BACH,OAAO,CAAC,GAAG,CAAC,QAAQ,QAAQ,WAAW,CAAC,CAAC;yBAC5C;wBACD,MAAM;oBACV,KAAK,QAAQ;wBACT,OAAO,CAAC,GAAG,CAAC,QAAQ,QAAQ,UAAU,CAAC,CAAC;wBACxC,MAAM;iBACb;gBACD,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,mCAAmC,CAAC,CAAC,CAAC;YAClE,CAAC,CAAC,CAAC;YACH,OAAO;SACV;IACL,CAAC;IAED,QAAQ,CAAE,IAAY,EAAE,IAAY;QAChC,IAAI;YACA,EAAE,CAAC,UAAU,CAAC,GAAG,IAAI,IAAI,IAAI,EAAE,EAAE,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YACpD,OAAO,IAAI,CAAC;SACf;QAAC,MAAM;YACJ,OAAO,KAAK,CAAC;SAChB;IACL,CAAC;CACJ;AA9CD,0BA8CC","sourcesContent":["#!/usr/bin/env node\nconst fs = require('fs');\nconst chalk = require('chalk');\n\n\nexport class Watcher {\n    constructor(\n        private name: string, \n        private rute: string\n    ) {\n        this.watchNote();\n    }\n\n    watchNote () {\n        let check = this.checkDir(this.name, this.rute);\n        if (check == false) {\n            console.log(chalk.red(\n                '\\nERROR. That note path doesn\\'t exist.\\n'));\n                return -1;\n        } else {\n            console.log(chalk.green(`\\nWaiting an event to happen...\\n`));\n            const watcher = fs.watch(`${this.rute}/${this.name}`);\n            let event: boolean = false;\n            watcher.on('change', (eventType, filename) => {\n                switch (eventType) {\n                    case 'rename':\n                        check = this.checkDir(filename, `${this.rute}/${this.name}`);\n                        if (check) {\n                            console.log(`Note ${filename} add.`);\n                        } else {\n                            console.log(`Note ${filename} removed.`);\n                        }\n                        break;\n                    case 'change':\n                        console.log(`Note ${filename} modify.`);\n                        break;  \n                }\n                console.log(chalk.green(`\\nWaiting an event to happen...\\n`));\n            });\n            return;\n        }\n    }\n\n    checkDir (name: string, rute: string): boolean {\n        try {\n            fs.accessSync(`${rute}/${name}`, fs.constants.F_OK);\n            return true;\n        } catch {\n            return false;\n        }\n    }\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d61d9f9e3b074331b5bba109249d16d150efd278","contentHash":"35414bcebe0e83feb79d27c2d1b22b3a0b6f40e07a0a47a7ea6694996760e229"}}